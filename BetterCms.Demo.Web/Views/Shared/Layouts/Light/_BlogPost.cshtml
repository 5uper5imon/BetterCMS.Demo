@using BetterCms.Module.Blog.Helpers.Extensions
@using BetterCms.Module.Pages.Helpers.Extensions
@using BetterCms.Module.Root.Mvc.Helpers
@using BetterCms.Module.Root.Mvc.Grids.Extensions

@{
    Layout = "~/Views/Shared/Layouts/Light/_BcmsTwoCol.cshtml";
}

@{
    var authorName = string.Empty;
    var author = Model.GetBlogPostAuthorModel();
    if (author != null)
    {
        authorName = author.Name;
    }

    var date = Model.GetBlogPostModel().ActivationDate;
    var tags = Model.GetPageTagsList();
}


@model BetterCms.Module.Root.ViewModels.Cms.RenderPageViewModel

@section CMSMainContent {
    <section class="blogpost-head">
        <h1>@Model.Title<a onclick=" history.go(-1) " class="back-link">< Back</a></h1>
        <span class="author">@authorName</span><time datetime="@date.ToString("yyyy-MM-dd")">@date.ToString("MMM d, yyyy")</time>
        @if (tags != null && tags.Count > 0)
        {
            var blogListUrl = Model.GetOptionValue<string>("Blogs List Page URL");
            if (!string.IsNullOrEmpty(blogListUrl))
            {
                <span>
                    @foreach (var tag in tags)
                    {
                        <a href="@blogListUrl?tagName=@tag" class="single-tag">@tag</a>
                    }
                </span>
            }
        }
    </section>

    @RenderSection("CMSMainContent", false)
}

@section ColRight {
    @RenderSection("ColRight", false)
}

@RenderBody()

@section Scripts {
    @RenderSection("Scripts", false)
}
